# 分布式ID

### 1. 主键ID

分库分表后原有主键ID失效，需要改造主键ID。

### 2. 方案1

jdk中自带的UUID

- 好处：
   - 不用引入额外的jar
- 坏处：
   - 更占用内存。
   - 不适合作为mysql的主键。
      - 无序性会导致磁盘随机IO、数据叶分裂；
      - 普通索引需要存储主键值，会导致B+树增高，IO次数变多；
   - 基于mac的地址算法会导致mac地址泄漏。


### 3. 方案2

雪花算法

- 好处
   - 

- 坏处
   - 



### 4. 方案3


号段模式——美团的Leaf



### 5. 参考

- [5种全局ID生成方式、优缺点及改进方案，你知道哪几种？](https://chenjiabing666.github.io/2021/08/15/5%E7%A7%8D%E5%85%A8%E5%B1%80ID%E7%94%9F%E6%88%90%E6%96%B9%E5%BC%8F%E3%80%81%E4%BC%98%E7%BC%BA%E7%82%B9%E5%8F%8A%E6%94%B9%E8%BF%9B%E6%96%B9%E6%A1%88%EF%BC%8C%E4%BD%A0%E7%9F%A5%E9%81%93%E5%93%AA%E5%87%A0%E7%A7%8D%EF%BC%9F/)

[集群高并发环境下，如何保证分布式唯一全局ID生成？](https://mp.weixin.qq.com/s/XJbWqSMloUXOl0DGbHw_og)

